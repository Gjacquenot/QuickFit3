<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Plugin: SPIM Lightsheet Analysis</title>
  </head>
  <body>
        $$qf_commondoc_header.start$$ $$qf_commondoc_header.end$$ 

        <h2>Description</h2>
        <center><a name="spim_lightsheet_eval_pic000"><img src="./pic/spim_lightsheet_eval_pic000.png" border="1">
        </center>
        
        <p>This plugin performs an analysis for a set of lightsheet x-scans with a 45° mirror. I.e. it expects image stacks where each frame contains an image of the lightsheet. Usually a 45° mirror is inserted into the SPIM microscope to directly reflect the lightsheet onto the camera. Then the mirror is moved by a distance &Delta;z and another image is taken. It is also possible to evaluate an image stack with several color channels. Then the plugin allows to compare the parameters of each of the color channels.</p>
        <p>The plugin fits a model function (usually a gaussian or a slit function) to each row (or column) of each frame. The fit results are averaged for each frame. The resultant mean and standard deviation is then displayed versus the position of the mirror.</p>


$$startbox_info$$
A detailed description of the methods, implemented in this plugin can also be found in these references:<ul>
  <li>$$jankrieger_phdthesis$$</li>
  <li>$$PLAIN_SPIMFCCS$$ <i>(see supplementary info therein)</i></li>
  <li>$$PLAIN_SPIMFS_CAM$$ <i>(see supplementary info therein)</i></li>
</ul>
$$endbox$$
<center><a name="spim_lightsheet_eval_pic001"><img src="./pic/spim_lightsheet_eval_pic001.png" border="1">
</center>

        $$see:There is <b><a href="tutorial.html">a tutorial</a></b>, which explains the usage of this plugin in detail!$$


        <br><br><br>
        <h2>User Interface</h2>
        <center><a name="spim_lightsheet_eval_pic002"><img src="./pic/spim_lightsheet_eval_pic002.png" border="1">
        <a name="spim_lightsheet_eval_pic003"><img src="./pic/spim_lightsheet_eval_pic003.png" border="1">
        </center>
        
        <p><ol>
          <li>After loading an image stack and inserting a SPIM Lightsheet Analysis evaluation, open the evaluation and select the lightsheet 
<center><img src="pic/tutorial_pic007.png"></center></li>
          <li>Now select a <b>fit model</b> and a <b>fit algorithm</b> to use.<b>As an algoruthm, you can use <a href="$$fitalgorithm:help:fit_lmfit$$">$$fitalgorithm:name:fit_lmfit$$</a> in most cases, which is reasonably fast and has good convergence properties. You can use one of the following fit models: $$list:fitfunc:lightsheet_$$They differ in the assumes shape for the ligh-sheet and in how the width is defined (e.g. as 1/e²-width or FWHM in a Gaussian)</li>
          <li>You can also configure how the fit works:
          <ol>
              <li><b>scale fit intensit</b>: scales the image intensity to a value, comparable to the image size ($(I\rightarrow I\cdot\frac{\mbox{width}}{\max(I)})$). This improves the fit result in some cases.</li>
              <li><b>use fit function initial values estimation</b>: Fit functions in QuickFit contain code, that allows to estimate "good" starting values for the fit. This often improves convergence. If this option is not activated, a default estimateion algorithm is used, which assumes, that the fit model has parameters "OFFSET", "AMPLTUDE", "WIDTH", "POSITION", as a Gaussian function (see e.g. <a href="$$fitfunction:help:lightsheet_gaussian$$">$$fitfunction:name:lightsheet_gaussian$$</a>)</li>
          </ol></li>
          <li>Enter the <b>shift</b> of the mirror in nanometers as <b>&Delta;z</b> and the <b>pixel size as &Delta;x</b>.</li>
          <li>select whether to <b>fit to rows</b> (vertical lightsheet) or to <b>columns</b> (horizontal lightsheet)</li>
          <li>click on <b>"Fit Current"</b> to perform all fits for the current file.</li>
          <li>In the tab <b>"Preview &amp; Single Fits"</b> you will see some intermediate fit results and may (after the fit completed) explore the fit to each row/column in each frame and color channel.</li>
          <li>The second tab <b>"Stack Fit Results"</b> summarizes all fit results.</li>
        </ol></p>
        <p></p>
        $$see:There is <b><a href="tutorial.html">a tutorial</a></b>, which explains the usage of this plugin in detail!$$
        <p></p>
  </body>
</html>
