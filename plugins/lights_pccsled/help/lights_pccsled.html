<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>B040 Programmable Constant Current Source (PCCS) Controller Plugin</title>
  </head>
  <body>
     $$qf_commondoc_header.start$$ $$qf_commondoc_header.end$$ 
     <p>This plugin controls high-power LEDs which are connected to a <a href="http://www.dkfz.de/Macromol/quickfit/pccp.html">Programmable Constant Current Source (PCCS)</b>, as built/developed in B040/DKFZ.</p>
     
     $$startbox_note$$
     The full hardware description (including schematics, PCBs, documentationa and firmware) of this control-box is available within the QuickFit 3 installation:<ul>
       <li>Documentation as PDF: <tt><img src=":/pdf.png"> <a href="file:///$$local_plugin_assets$$/electronics/doc/led_controller.pdf">$$local_plugin_assets$$/electronics/doc/led_controller.pdf</a></tt></li>
       <li>Complete Package: <tt><a href="opendir:///$$local_plugin_assets$$/electronics/">$$local_plugin_assets$$/electronics/</a></tt></li>
     </ul>
     $$endbox$$
     
     <p>The controllers are configured by a global configuration file <tt>lights_pccsled.ini</tt>. It is stored in the global configuration directory. You may change some of the configuration options in the associated
     config directory which will show up, if - and only if - you have write access to this file. If the file does not exist, the plugin will load (but not write) to the file <tt>lights_pccsled.ini</tt> either in
     the user config directory, or in the assets directory (<tt>[AssetsDir]/plugins/lights_pccsled/</tt>) for the plugin.
     </p>
     <p>In the <tt>lights_pccsled.ini</tt> you will have to tell the plugin which PCCSs are available and which serial ports they use. This is done inside a <tt>[<b>lightsource</b><i>N</i>]</tt> block for each light source <i>N</i> (default values are <u>underlined</u>):
     <blockquote><tt>
[<b>lightsource</b><i>N</i>]<br>
<b>port</b> = <i>port name (e.g. COM1 or /dev/tty0)</i><br>
<b>id</b> = <i>id of the shutter in the driver connected to the given port (0 | 1 | 2 | 3)</i><br>
<b>port_speed</b> = <i>port speed (<u>9600</u> | 19200 | 38400 | ...)</i><br>
<b>port_databits</b> = <i>data bits used for the communication (5 | 6 | 7 | <u>8</u> | 9)</i><br>
<b>port_parity</b> = <i>parity bit (<u>none</u> | odd | even)</i><br>
<b>port_handshaking</b> = <i>handshaking mode (<u>none</u> | xonxoff | hardware)</i><br>
<b>port_stopbits</b> = <i>port speed (<u>1</u> | 1.5 | 2)</i><br>
<b>port_timeout</b> = <i>port timeout in milliseconds (default: <u>500</u>)</i><br>
<br>
     </tt></blockquote> 
     The number of control boxes is stored in the variable <tt>lightsource_count</tt>.
     </p>
     <p>Here is an example configuration file for windows and two control boxes on COM1 and COM5:
     <blockquote><tt>
lightsource_count=2<br><br>
[lightsource1]<br>
port=COM1<br>
port_speed=9600<br><br>
[lightsource2]<br>
port=COM5<br>
port_speed=9600<br><br>
     </tt></blockquote></p>

<p>See also the help page on <a href="$$mainhelpdir$$ext_usbdevices_linux.html">Linux hardware enumeration with udev</a> for further information</p>

  </body>
</html>
